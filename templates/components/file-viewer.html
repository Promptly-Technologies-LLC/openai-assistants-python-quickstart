<!-- file-viewer.html -->
<h3>Upload Files</h3>
<form id="upload-form" 
    hx-post="{{ url_for('upload_file', assistant_id=assistant_id) }}" 
    hx-target="#file-list-container" 
    hx-swap="outerHTML"
    hx-indicator="#upload-indicator"
    enctype="multipart/form-data">
  <input type="file" name="file" required>
  <input type="hidden" name="purpose" value="assistants">
  <button type="submit" class="button">Upload File</button>
  <span id="upload-indicator" class="htmx-indicator">Uploading...</span>
</form>

<h3>Existing Files</h3>
<div id="file-list-container" 
    hx-get="{{ url_for('list_files', assistant_id=assistant_id) }}" 
    hx-trigger="load" 
    hx-swap="outerHTML">
    <p>Loading files...</p>
</div>
<button 
    class="button"
    hx-get="{{ url_for('list_files', assistant_id=assistant_id) }}" 
    hx-target="#file-list-container"
    hx-swap="outerHTML"
    hx-indicator="#list-indicator">
  Refresh File List
</button>
<span id="list-indicator" class="htmx-indicator">Refreshing...</span>